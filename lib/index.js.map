{"version":3,"file":"index.js","sources":["../packages/color-picker/src/color-picker.vue","../packages/color-picker/index.js","../packages/input/src/input.vue","../packages/input/index.js","../packages/index.js"],"sourcesContent":["<template lang=\"html\">\n  <div class=\"m-colorPicker\" tabindex=\"-1\" @blur=\"closePanel()\" ref=\"colorPicker\" v-on:click=\"event => { event.stopPropagation() }\">\n    <!-- 颜色显示小方块 -->\n    <div class=\"colorBtn\"\n      v-bind:style=\"`background-color: ${showColor}`\"\n      v-on:click=\"openStatus = !disabled\"\n      v-bind:class=\"{ disabled: disabled }\"\n    ></div>\n    <!-- 用以激活HTML5颜色面板 -->\n    <input type=\"color\"\n      ref=\"html5Color\"\n      v-model=\"html5Color\"\n      v-on:change=\"updataValue(html5Color)\">\n    <!-- 颜色色盘 -->\n    <div class=\"box\" v-bind:class=\"{ open: openStatus }\">\n      <div class=\"hd\">\n        <div class=\"colorView\" v-bind:style=\"`background-color: ${showPanelColor}`\"></div>\n        <div class=\"defaultColor\"\n          v-on:click=\"handleDefaultColor\"\n          v-on:mouseover=\"hoveColor = defaultColor\"\n          v-on:mouseout=\"hoveColor = null\"\n        >默认颜色</div>\n      </div>\n      <div class=\"bd\">\n        <h3>主题颜色</h3>\n        <ul class=\"tColor\">\n          <li\n            v-for=\"(color, index) of tColor\"\n            :key=\"index\"\n            v-bind:style=\"{ backgroundColor: color }\"\n            v-on:mouseover=\"hoveColor = color\"\n            v-on:mouseout=\"hoveColor = null\"\n            v-on:click=\"updataValue(color)\"\n          ></li>\n        </ul>\n        <ul class=\"bColor\">\n          <li v-for=\"(item, index) of colorPanel\" :key=\"index\">\n            <ul>\n              <li\n                v-for=\"(color, cindex) of item\"\n                :key=\"cindex\"\n                v-bind:style=\"{ backgroundColor: color }\"\n                v-on:mouseover=\"hoveColor = color\"\n                v-on:mouseout=\"hoveColor = null\"\n                v-on:click=\"updataValue(color)\"\n              ></li>\n            </ul>\n          </li>\n        </ul>\n        <h3>标准颜色</h3>\n        <ul class=\"tColor\">\n          <li\n            v-for=\"(color, index) of bColor\"\n            :key=\"index\"\n            v-bind:style=\"{ backgroundColor: color }\"\n            v-on:mouseover=\"hoveColor = color\"\n            v-on:mouseout=\"hoveColor = null\"\n            v-on:click=\"updataValue(color)\"\n          ></li>\n        </ul>\n        <h3 v-on:click=\"triggerHtml5Color\">更多颜色...</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'colorPicker',\n  props: {\n    // 当前颜色值\n    value: {\n      type: String,\n      required: true\n    },\n    // 默认颜色\n    defaultColor: {\n      type: String,\n      default: '#000000'\n    },\n    // 禁用状态\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      // 面板打开状态\n      openStatus: false,\n      // 鼠标经过的颜色块\n      hoveColor: null,\n      // 主题颜色\n      tColor: ['#000000', '#ffffff', '#eeece1', '#1e497b', '#4e81bb', '#e2534d', '#9aba60', '#8165a0', '#47acc5', '#f9974c'],\n      // 颜色面板\n      colorConfig: [\n        ['#7f7f7f', '#f2f2f2'],\n        ['#0d0d0d', '#808080'],\n        ['#1c1a10', '#ddd8c3'],\n        ['#0e243d', '#c6d9f0'],\n        ['#233f5e', '#dae5f0'],\n        ['#632623', '#f2dbdb'],\n        ['#4d602c', '#eaf1de'],\n        ['#3f3150', '#e6e0ec'],\n        ['#1e5867', '#d9eef3'],\n        ['#99490f', '#fee9da']\n      ],\n      // 标准颜色\n      bColor: ['#c21401', '#ff1e02', '#ffc12a', '#ffff3a', '#90cf5b', '#00af57', '#00afee', '#0071be', '#00215f', '#72349d'],\n      html5Color: this.value\n    }\n  },\n  computed: {\n    // 显示面板颜色\n    showPanelColor () {\n      if (this.hoveColor) {\n        return this.hoveColor\n      } else {\n        return this.showColor\n      }\n    },\n    // 显示颜色\n    showColor () {\n      if (this.value) {\n        return this.value\n      } else {\n        return this.defaultColor\n      }\n    },\n    // 颜色面板\n    colorPanel () {\n      let colorArr = []\n      for (let color of this.colorConfig) {\n        colorArr.push(this.gradient(color[1], color[0], 5))\n      }\n      return colorArr\n    }\n  },\n  methods: {\n    closePanel() {\n      this.openStatus = false\n    },\n    triggerHtml5Color () {\n      this.$refs.html5Color.click()\n    },\n    // 更新组件的值 value\n    updataValue (value) {\n      this.$emit('input', value)\n      this.$emit('change', value)\n      this.openStatus = false\n    },\n    // 设置默认颜色\n    handleDefaultColor () {\n      this.updataValue(this.defaultColor)\n    },\n    // 格式化 hex 颜色值\n    parseColor (hexStr) {\n      if (hexStr.length === 4) {\n        hexStr = '#' + hexStr[1] + hexStr[1] + hexStr[2] + hexStr[2] + hexStr[3] + hexStr[3]\n      } else {\n        return hexStr\n      }\n    },\n    // RGB 颜色 转 HEX 颜色\n    rgbToHex (r, g, b) {\n      let hex = ((r << 16) | (g << 8) | b).toString(16)\n      return '#' + new Array(Math.abs(hex.length - 7)).join('0') + hex\n    },\n    // HEX 转 RGB 颜色\n    hexToRgb (hex) {\n      hex = this.parseColor(hex)\n      let rgb = []\n      for (let i = 1; i < 7; i += 2) {\n        rgb.push(parseInt('0x' + hex.slice(i, i + 2)))\n      }\n      return rgb\n    },\n    // 计算渐变过渡颜色\n    gradient (startColor, endColor, step) {\n      // 讲 hex 转换为 rgb\n      let sColor = this.hexToRgb(startColor)\n      let eColor = this.hexToRgb(endColor)\n\n      // 计算R\\G\\B每一步的差值\n      let rStep = (eColor[0] - sColor[0]) / step\n      let gStep = (eColor[1] - sColor[1]) / step\n      let bStep = (eColor[2] - sColor[2]) / step\n\n      let gradientColorArr = []\n      // 计算每一步的hex值\n      for (let i = 0; i < step; i++) {\n        gradientColorArr.push(this.rgbToHex(parseInt(rStep * i + sColor[0]), parseInt(gStep * i + sColor[1]), parseInt(bStep * i + sColor[2])))\n      }\n      return gradientColorArr\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.m-colorPicker{\n  position: relative; text-align: left; font-size: 14px; display: inline-block;\n  outline: none;\n  ul,li,ol{ list-style: none; margin: 0; padding: 0; }\n  input{ display: none; }\n  .colorBtn{ width: 15px; height: 15px; }\n  .colorBtn.disabled{ cursor: no-drop; }\n  .box{\n    position: absolute; width: 190px; background: #fff; border: 1px solid #ddd; visibility: hidden; border-radius: 2px; margin-top: 2px; padding: 10px; padding-bottom: 5px; box-shadow: 0 0 5px rgba(0,0,0,.15); opacity: 0; transition: all .3s ease;\n    h3{ margin: 0; font-size: 14px; font-weight: normal; margin-top: 10px; margin-bottom: 5px; line-height: 1; color: #333; }\n  }\n  .box.open{ visibility: visible; opacity: 1;z-index: 1; }\n  .hd{\n    overflow: hidden; line-height: 29px;\n    .colorView{ width: 100px; height: 30px; float: left; transition: background-color .3s ease; }\n    .defaultColor{ width: 80px; float: right; text-align: center; border: 1px solid #ddd; cursor: pointer; color: #333; }\n  }\n  .tColor{\n    li{ width: 15px; height: 15px; display: inline-block; margin: 0 2px; transition: all .3s ease; }\n    li:hover{ box-shadow: 0 0 5px rgba(0,0,0,.4); transform: scale(1.3); }\n  }\n  .bColor{\n    li{\n      width: 15px; display: inline-block; margin: 0 2px;\n      li{ display: block; width: 15px; height: 15px; transition: all .3s ease; margin: 0; }\n      li:hover{ box-shadow: 0 0 5px rgba(0,0,0,.4); transform: scale(1.3); }\n    }\n  }\n}\n</style>\n  \n","// 导入组件\nimport colorPicker from './src/color-picker.vue'\n\n// 为组件提供 install 安装方法，供按需引入\ncolorPicker.install = function (Vue) {\n  Vue.component(colorPicker.name, colorPicker)\n}\n\n// 默认导出组件\nexport default colorPicker","<template>\n    <div>\n        <input v-if=\"type!='textarea'\" :type=\"type\">\n        <textarea v-else name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'dInput',\n    props:{\n        type:{\n            type:String,\n            defaulf:'text'\n        }\n    }\n}\n</script>\n<style>\n</style>","import dInput from './src/input.vue';\n\ndInput.install=function(Vue){\n    Vue.component(dInput.name,dInput)\n}\n\nexport default dInput","// 导入颜色选择器组件\nimport colorPicker from './color-picker/index.js'\nimport dInput from './input/index.js'\n\n// 存储组件列表\nconst components = [\n  colorPicker,dInput\n]\n\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册\nconst install = function (Vue) {\n  // 判断是否安装\n  if (install.installed) return\n  // 遍历注册全局组件\n  components.map(component => Vue.component(component.name, component))\n}\n\n// 判断是否是直接引入文件\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue)\n}\n\nexport default{\n  // 导出的对象必须具有 install，才能被 Vue.use() 方法安装\n  install,\n  // 以下是具体的组件列表\n  colorPicker,\n  dInput\n}"],"names":[],"mappings":"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"}